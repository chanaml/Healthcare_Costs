{"version":3,"file":"Tooltip.js","sources":["../../src/Tooltip.js"],"sourcesContent":["import {select} from \"d3-selection\";\nimport {transition} from \"d3-transition\";\n\nimport {accessor, BaseClass, constant, prefix, stylize} from \"d3plus-common\";\n\n/**\n    @class Tooltip\n    @extends BaseClass\n    @desc Creates HTML tooltips in the body of a webpage.\n*/\nexport default class Tooltip extends BaseClass {\n\n  /**\n      @memberof Tooltip\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._background = constant(\"rgba(255, 255, 255, 0.75)\");\n    this._body = accessor(\"body\", \"\");\n    this._bodyStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"12px\",\n      \"font-weight\": \"400\"\n    };\n    this._border = constant(\"1px solid rgba(0, 0, 0, 0.1)\");\n    this._borderRadius = constant(\"2px\");\n    this._className = \"d3plus-tooltip\";\n    this._data = [];\n    this._duration = constant(200);\n    this._footer = accessor(\"footer\", \"\");\n    this._footerStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"12px\",\n      \"font-weight\": \"400\"\n    };\n    this._height = constant(\"auto\");\n    this._id = (d, i) => d.id || `${i}`;\n    this._offset = constant(10);\n    this._padding = constant(\"5px\");\n    this._pointerEvents = constant(\"auto\");\n    this._prefix = prefix();\n    this._tableStyle = {\n      \"border-spacing\": \"0\",\n      \"width\": \"100%\"\n    };\n    this._tbody = [];\n    this._tbodyStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"12px\",\n      \"text-align\": \"center\"\n    };\n    this._thead = [];\n    this._theadStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"12px\",\n      \"font-weight\": \"600\",\n      \"text-align\": \"center\"\n    };\n    this._title = accessor(\"title\", \"\");\n    this._titleStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\",\n      \"font-weight\": \"600\"\n    };\n    this._translate = d => [d.x, d.y];\n    this._width = constant(\"auto\");\n\n  }\n\n  /**\n      The inner return object and draw function that gets assigned the public methods.\n      @private\n  */\n  render(callback) {\n\n    const that = this;\n\n    const tooltips = select(\"body\").selectAll(`.${this._className}`)\n      .data(this._data, this._id);\n\n    const enter = tooltips.enter().append(\"div\")\n      .attr(\"class\", this._className)\n      .style(\"position\", \"absolute\")\n      .style(`${this._prefix}transform`, \"scale(0)\")\n      .style(`${this._prefix}transform-origin`, \"50% 100%\");\n\n    const update = tooltips.merge(enter);\n\n    /**\n        Creates DIV elements with a unique class and styles.\n        @private\n    */\n    function divElement(cat) {\n      enter.append(\"div\").attr(\"class\", `d3plus-tooltip-${cat}`);\n      const div = update.select(`.d3plus-tooltip-${cat}`).html(that[`_${cat}`]);\n      stylize(div, that[`_${cat}Style`]);\n    }\n\n    /**\n        Fetches table contents given functions or values.\n        @private\n    */\n    function cellContent(d) {\n      if (typeof d === \"function\") {\n        const datum = select(this.parentNode.parentNode).datum();\n        return d(datum, that._data.indexOf(datum));\n      }\n      else return d;\n    }\n\n    /**\n        Sets styles for both enter and update.\n        @private\n    */\n    function boxStyles(box) {\n\n      box\n        .style(\"background\", that._background)\n        .style(`${that._prefix}border-radius`, that._borderRadius)\n        .style(\"pointer-events\", that._pointerEvents)\n        .style(\"padding\", that._padding)\n        .style(\"width\", that._width)\n        .style(\"height\", that._height)\n        .style(\"border\", function(d, i) {\n          const b = select(this).style(\"border\");\n          return b !== \"0px none rgb(0, 0, 0)\" ? b : that._border(d, i);\n        })\n        .style(\"top\", function(d, i) {\n          return `${that._translate(d, i)[1] - this.offsetHeight - that._offset(d, i)}px`;\n        })\n        .style(\"left\", function(d, i) {\n          return `${that._translate(d, i)[0] - this.offsetWidth / 2}px`;\n        });\n\n    }\n\n    divElement(\"title\");\n    divElement(\"body\");\n\n    const tableEnter = enter.append(\"table\").attr(\"class\", \"d3plus-tooltip-table\");\n    const table = update.select(\".d3plus-tooltip-table\");\n    stylize(table, this._tableStyle);\n\n    tableEnter.append(\"thead\").attr(\"class\", \"d3plus-tooltip-thead\");\n    const tableHead = update.select(\".d3plus-tooltip-thead\");\n    stylize(tableHead, this._theadStyle);\n    const th = tableHead.selectAll(\"th\").data(this._thead);\n    th.enter().append(\"th\").merge(th).html(cellContent);\n    th.exit().remove();\n\n    tableEnter.append(\"tbody\").attr(\"class\", \"d3plus-tooltip-tbody\");\n    const tableBody = update.select(\".d3plus-tooltip-tbody\");\n    stylize(tableBody, this._tbodyStyle);\n    const tr = tableBody.selectAll(\"tr\").data(this._tbody);\n    const trEnter = tr.enter().append(\"tr\");\n    tr.exit().remove();\n    const trUpdate = tr.merge(trEnter);\n    const td = trUpdate.selectAll(\"td\").data(d => d);\n    td.enter().append(\"td\").merge(td).html(cellContent);\n\n    divElement(\"footer\");\n\n    enter.call(boxStyles);\n\n    const t = transition().duration(this._duration);\n\n    update\n      .attr(\"id\", (d, i) => `d3plus-tooltip-${this._id(d, i)}`)\n      .transition(t)\n        .style(`${this._prefix}transform`, \"scale(1)\")\n        .call(boxStyles);\n\n    tooltips.exit()\n      .transition(t)\n        .style(`${this._prefix}transform`, \"scale(0)\")\n        .remove();\n\n    if (callback) setTimeout(callback, this._duration + 100);\n\n    return this;\n\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the background accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current background accessor.\n      @param {Function|String} [*value* = \"rgba(255, 255, 255, 0.75)\"]\n  */\n  background(_) {\n    return arguments.length ? (this._background = typeof _ === \"function\" ? _ : constant(_), this) : this._background;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the body accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current body accessor.\n      @param {Function|String} [*value*]\n      @example <caption>default accessor</caption>\nfunction value(d) {\n  return d.body || \"\";\n}\n  */\n  body(_) {\n    return arguments.length ? (this._body = typeof _ === \"function\" ? _ : constant(_), this) : this._body;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the body styles to the specified values and returns this generator. If *value* is not specified, returns the current body styles.\n      @param {Object} [*value*]\n      @example <caption>default styles</caption>\n{\n  \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n  \"font-size\": \"12px\",\n  \"font-weight\": \"400\"\n}\n  */\n  bodyStyle(_) {\n    return arguments.length ? (this._bodyStyle = Object.assign(this._bodyStyle, _), this) : this._bodyStyle;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the border accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current border accessor.\n      @param {Function|String} [*value* = \"1px solid rgba(0, 0, 0, 0.1)\"]\n  */\n  border(_) {\n    return arguments.length ? (this._border = typeof _ === \"function\" ? _ : constant(_), this) : this._border;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the border-radius accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current border-radius accessor.\n      @param {Function|String} [*value* = \"2px\"]\n  */\n  borderRadius(_) {\n    return arguments.length ? (this._borderRadius = typeof _ === \"function\" ? _ : constant(_), this) : this._borderRadius;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the class name to the specified string and returns this generator. If *value* is not specified, returns the current class name.\n      @param {String} [*value* = \"d3plus-tooltip\"]\n  */\n  className(_) {\n    return arguments.length ? (this._className = _, this) : this._className;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *data* is specified, sets the data array to the specified array and returns this generator. If *data* is not specified, returns the current data array.\n      @param {Array} [*data* = []]\n  */\n  data(_) {\n    return arguments.length ? (this._data = _, this) : this._data;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *ms* is specified, sets the duration accessor to the specified function or number and returns this generator. If *ms* is not specified, returns the current duration accessor.\n      @param {Function|Number} [*ms* = 200]\n  */\n  duration(_) {\n    return arguments.length ? (this._duration = typeof _ === \"function\" ? _ : constant(_), this) : this._duration;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the footer accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current footer accessor.\n      @param {Function|String} [*value*]\n      @example <caption>default accessor</caption>\nfunction value(d) {\n  return d.footer || \"\";\n}\n  */\n  footer(_) {\n    return arguments.length ? (this._footer = typeof _ === \"function\" ? _ : constant(_), this) : this._footer;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the footer styles to the specified values and returns this generator. If *value* is not specified, returns the current footer styles.\n      @param {Object} [*value*]\n      @example <caption>default styles</caption>\n{\n  \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n  \"font-size\": \"12px\",\n  \"font-weight\": \"400\"\n}\n  */\n  footerStyle(_) {\n    return arguments.length ? (this._footerStyle = Object.assign(this._footerStyle, _), this) : this._footerStyle;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the height accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current height accessor.\n      @param {Function|String} [*value* = \"auto\"]\n  */\n  height(_) {\n    return arguments.length ? (this._height = typeof _ === \"function\" ? _ : constant(_), this) : this._height;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the id accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current id accessor.\n      @param {Function|String} [*value*]\n      @example <caption>default accessor</caption>\nfunction value(d, i) {\n  return d.id || \"\" + i;\n}\n  */\n  id(_) {\n    return arguments.length ? (this._id = typeof _ === \"function\" ? _ : constant(_), this) : this._id;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the offset accessor to the specified function or number and returns this generator. If *value* is not specified, returns the current offset accessor.\n      @param {Function|Number} [*value* = 10]\n  */\n  offset(_) {\n    return arguments.length ? (this._offset = typeof _ === \"function\" ? _ : constant(_), this) : this._offset;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the padding accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current padding accessor.\n      @param {Function|String} [*value* = \"5px\"]\n  */\n  padding(_) {\n    return arguments.length ? (this._padding = typeof _ === \"function\" ? _ : constant(_), this) : this._padding;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the pointer-events accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current pointer-events accessor.\n      @param {Function|String} [*value* = \"auto\"]\n  */\n  pointerEvents(_) {\n    return arguments.length ? (this._pointerEvents = typeof _ === \"function\" ? _ : constant(_), this) : this._pointerEvents;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the table styles to the specified values and returns this generator. If *value* is not specified, returns the current table styles.\n      @param {Object} [*value*]\n      @example <caption>default styles</caption>\n{\n  \"border-spacing\": \"0\",\n  \"width\": \"100%\"\n}\n  */\n  tableStyle(_) {\n    return arguments.length ? (this._tableStyle = Object.assign(this._tableStyle, _), this) : this._tableStyle;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the contents of the table body to the specified array of functions or strings and returns this generator. If *value* is not specified, returns the current table body data.\n      @param {Array} [*value* = []]\n  */\n  tbody(_) {\n    return arguments.length ? (this._tbody = _, this) : this._tbody;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the table body styles to the specified values and returns this generator. If *value* is not specified, returns the current table body styles.\n      @param {Object} [*value*]\n      @example <caption>default styles</caption>\n{\n  \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n  \"font-size\": \"12px\",\n  \"font-weight\": \"600\",\n  \"text-align\": \"center\"\n}\n  */\n  tbodyStyle(_) {\n    return arguments.length ? (this._tbodyStyle = Object.assign(this._tbodyStyle, _), this) : this._tbodyStyle;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the contents of the table head to the specified array of functions or strings and returns this generator. If *value* is not specified, returns the current table head data.\n      @param {Array} [*value* = []]\n  */\n  thead(_) {\n    return arguments.length ? (this._thead = _, this) : this._thead;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the table head styles to the specified values and returns this generator. If *value* is not specified, returns the current table head styles.\n      @param {Object} [*value*]\n      @example <caption>default styles</caption>\n{\n  \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n  \"font-size\": \"12px\",\n  \"font-weight\": \"600\",\n  \"text-align\": \"center\"\n}\n  */\n  theadStyle(_) {\n    return arguments.length ? (this._theadStyle = Object.assign(this._theadStyle, _), this) : this._theadStyle;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the title accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current title accessor.\n      @param {Function|String} [*value*]\n      @example <caption>default accessor</caption>\nfunction value(d) {\n  return d.title || \"\";\n}\n  */\n  title(_) {\n    return arguments.length ? (this._title = typeof _ === \"function\" ? _ : constant(_), this) : this._title;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the title styles to the specified values and returns this generator. If *value* is not specified, returns the current title styles.\n      @param {Object} [*value*]\n      @example <caption>default styles</caption>\n{\n  \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n  \"font-size\": \"14px\",\n  \"font-weight\": \"600\",\n  \"padding-bottom\": \"5px\"\n}\n  */\n  titleStyle(_) {\n    return arguments.length ? (this._titleStyle = Object.assign(this._titleStyle, _), this) : this._titleStyle;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the translate accessor to the specified function or array and returns this generator. If *value* is not specified, returns the current translate accessor.\n      @param {Function|Array} [*value*]\n      @example <caption>default accessor</caption>\nfunction value(d) {\n  return [d.x, d.y];\n}\n  */\n  translate(_) {\n    return arguments.length ? (this._translate = typeof _ === \"function\" ? _ : constant(_), this) : this._translate;\n  }\n\n  /**\n      @memberof Tooltip\n      @desc If *value* is specified, sets the width accessor to the specified function or string and returns this generator. If *value* is not specified, returns the current width accessor.\n      @param {Function|String} [*value* = \"auto\"]\n  */\n  width(_) {\n    return arguments.length ? (this._width = typeof _ === \"function\" ? _ : constant(_), this) : this._width;\n  }\n\n}\n"],"names":["super","const","this"],"mappings":"AAAA,QAAQ,MAAM,OAAO,cAAc,CAAC;AACpC,QAAQ,UAAU,OAAO,eAAe,CAAC;;AAEzC,QAAQ,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,OAAO,eAAe,CAAC;;;;;;;AAO7E,AAAe,IAAM,OAAO,GAAkB;EAO5C,gBAAW,GAAG;;IAEZA,cAAK,KAAC,CAAC,CAAC;IACR,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,2BAA2B,CAAC,CAAC;IACzD,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;IAClC,IAAI,CAAC,UAAU,GAAG;MAChB,aAAa,EAAE,+EAA+E;MAC9F,WAAW,EAAE,MAAM;MACnB,aAAa,EAAE,KAAK;KACrB,CAAC;IACF,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,8BAA8B,CAAC,CAAC;IACxD,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IACrC,IAAI,CAAC,UAAU,GAAG,gBAAgB,CAAC;IACnC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IAChB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;IAC/B,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IACtC,IAAI,CAAC,YAAY,GAAG;MAClB,aAAa,EAAE,+EAA+E;MAC9F,WAAW,EAAE,MAAM;MACnB,aAAa,EAAE,KAAK;KACrB,CAAC;IACF,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;IAChC,IAAI,CAAC,GAAG,YAAG,CAAC,CAAC,EAAE,CAAC,EAAE,SAAG,CAAC,CAAC,EAAE,IAAI,MAAG,CAAC,IAAE,CAAC;IACpC,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC5B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAChC,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;IACvC,IAAI,CAAC,OAAO,GAAG,MAAM,EAAE,CAAC;IACxB,IAAI,CAAC,WAAW,GAAG;MACjB,gBAAgB,EAAE,GAAG;MACrB,OAAO,EAAE,MAAM;KAChB,CAAC;IACF,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACjB,IAAI,CAAC,WAAW,GAAG;MACjB,aAAa,EAAE,+EAA+E;MAC9F,WAAW,EAAE,MAAM;MACnB,YAAY,EAAE,QAAQ;KACvB,CAAC;IACF,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACjB,IAAI,CAAC,WAAW,GAAG;MACjB,aAAa,EAAE,+EAA+E;MAC9F,WAAW,EAAE,MAAM;MACnB,aAAa,EAAE,KAAK;MACpB,YAAY,EAAE,QAAQ;KACvB,CAAC;IACF,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;IACpC,IAAI,CAAC,WAAW,GAAG;MACjB,aAAa,EAAE,+EAA+E;MAC9F,WAAW,EAAE,MAAM;MACnB,aAAa,EAAE,KAAK;KACrB,CAAC;IACF,IAAI,CAAC,UAAU,aAAG,EAAC,CAAC,SAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAC,CAAC;IAClC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;;;;;;0CAEhC;;;;;;oBAMD,yBAAM,CAAC,QAAQ,EAAE;;AAAC;;IAEhBC,GAAK,CAAC,IAAI,GAAG,IAAI,CAAC;;IAElBA,GAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,QAAI,IAAI,CAAC,UAAU,EAAE,CAAC;OAC7D,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;;IAE9BA,GAAK,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;OACzC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC;OAC9B,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC;OAC7B,KAAK,CAAC,EAAG,IAAI,CAAC,QAAO,eAAW,EAAE,UAAU,CAAC;OAC7C,KAAK,CAAC,EAAG,IAAI,CAAC,QAAO,sBAAkB,EAAE,UAAU,CAAC,CAAC;;IAExDA,GAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;;;;;;IAMrC,SAAS,UAAU,CAAC,GAAG,EAAE;MACvB,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,qBAAkB,GAAG,CAAE,CAAC,CAAC;MAC3DA,GAAK,CAAC,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,sBAAmB,GAAG,CAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAI,GAAG,CAAE,CAAC,CAAC,CAAC;MAC1E,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,OAAI,GAAG,WAAO,CAAC,CAAC,CAAC;KACpC;;;;;;IAMD,SAAS,WAAW,CAAC,CAAC,EAAE;MACtB,IAAI,OAAO,CAAC,KAAK,UAAU,EAAE;QAC3BA,GAAK,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,KAAK,EAAE,CAAC;QACzD,OAAO,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;OAC5C;aACI,OAAO,CAAC,GAAC;KACf;;;;;;IAMD,SAAS,SAAS,CAAC,GAAG,EAAE;;MAEtB,GAAG;SACA,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC;SACrC,KAAK,CAAC,EAAG,IAAI,CAAC,QAAO,mBAAe,EAAE,IAAI,CAAC,aAAa,CAAC;SACzD,KAAK,CAAC,gBAAgB,EAAE,IAAI,CAAC,cAAc,CAAC;SAC5C,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC;SAC/B,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC;SAC3B,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC;SAC7B,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE;UAC9BA,GAAK,CAAC,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;UACvC,OAAO,CAAC,KAAK,uBAAuB,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAC/D,CAAC;SACD,KAAK,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE;UAC3B,OAAO,EAAG,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAC,QAAI,CAAC;SACjF,CAAC;SACD,KAAK,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE;UAC5B,OAAO,EAAG,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,GAAG,EAAC,QAAI,CAAC;SAC/D,CAAC,CAAC;;KAEN;;IAED,UAAU,CAAC,OAAO,CAAC,CAAC;IACpB,UAAU,CAAC,MAAM,CAAC,CAAC;;IAEnBA,GAAK,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAC;IAC/EA,GAAK,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,uBAAuB,CAAC,CAAC;IACrD,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;;IAEjC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAC;IACjEA,GAAK,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,uBAAuB,CAAC,CAAC;IACzD,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IACrCA,GAAK,CAAC,EAAE,GAAG,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACvD,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACpD,EAAE,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;;IAEnB,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAC;IACjEA,GAAK,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,uBAAuB,CAAC,CAAC;IACzD,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IACrCA,GAAK,CAAC,EAAE,GAAG,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACvDA,GAAK,CAAC,OAAO,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACxC,EAAE,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IACnBA,GAAK,CAAC,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IACnCA,GAAK,CAAC,EAAE,GAAG,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,WAAC,EAAC,CAAC,SAAG,IAAC,CAAC,CAAC;IACjD,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;;IAEpD,UAAU,CAAC,QAAQ,CAAC,CAAC;;IAErB,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;IAEtBA,GAAK,CAAC,CAAC,GAAG,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;IAEhD,MAAM;OACH,IAAI,CAAC,IAAI,WAAE,CAAC,CAAC,EAAE,CAAC,EAAE,SAAG,sBAAkBC,MAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,KAAE,CAAC;OACxD,UAAU,CAAC,CAAC,CAAC;SACX,KAAK,CAAC,EAAG,IAAI,CAAC,QAAO,eAAW,EAAE,UAAU,CAAC;SAC7C,IAAI,CAAC,SAAS,CAAC,CAAC;;IAErB,QAAQ,CAAC,IAAI,EAAE;OACZ,UAAU,CAAC,CAAC,CAAC;SACX,KAAK,CAAC,EAAG,IAAI,CAAC,QAAO,eAAW,EAAE,UAAU,CAAC;SAC7C,MAAM,EAAE,CAAC;;IAEd,IAAI,QAAQ,IAAE,UAAU,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,GAAC;;IAEzD,OAAO,IAAI,CAAC;;IAEb;;;;;;;oBAOD,iCAAU,CAAC,CAAC,EAAE;IACZ,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;IACnH;;;;;;;;;;;oBAWD,qBAAI,CAAC,CAAC,EAAE;IACN,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;IACvG;;;;;;;;;;;;;oBAaD,+BAAS,CAAC,CAAC,EAAE;IACX,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;IACzG;;;;;;;oBAOD,yBAAM,CAAC,CAAC,EAAE;IACR,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;IAC3G;;;;;;;oBAOD,qCAAY,CAAC,CAAC,EAAE;IACd,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC;IACvH;;;;;;;oBAOD,+BAAS,CAAC,CAAC,EAAE;IACX,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;IACzE;;;;;;;oBAOD,qBAAI,CAAC,CAAC,EAAE;IACN,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;IAC/D;;;;;;;oBAOD,6BAAQ,CAAC,CAAC,EAAE;IACV,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;IAC/G;;;;;;;;;;;oBAWD,yBAAM,CAAC,CAAC,EAAE;IACR,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;IAC3G;;;;;;;;;;;;;oBAaD,mCAAW,CAAC,CAAC,EAAE;IACb,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;IAC/G;;;;;;;oBAOD,yBAAM,CAAC,CAAC,EAAE;IACR,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;IAC3G;;;;;;;;;;;oBAWD,iBAAE,CAAC,CAAC,EAAE;IACJ,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC;IACnG;;;;;;;oBAOD,yBAAM,CAAC,CAAC,EAAE;IACR,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;IAC3G;;;;;;;oBAOD,2BAAO,CAAC,CAAC,EAAE;IACT,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC7G;;;;;;;oBAOD,uCAAa,CAAC,CAAC,EAAE;IACf,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC;IACzH;;;;;;;;;;;;oBAYD,iCAAU,CAAC,CAAC,EAAE;IACZ,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;IAC5G;;;;;;;oBAOD,uBAAK,CAAC,CAAC,EAAE;IACP,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;IACjE;;;;;;;;;;;;;;oBAcD,iCAAU,CAAC,CAAC,EAAE;IACZ,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;IAC5G;;;;;;;oBAOD,uBAAK,CAAC,CAAC,EAAE;IACP,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;IACjE;;;;;;;;;;;;;;oBAcD,iCAAU,CAAC,CAAC,EAAE;IACZ,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;IAC5G;;;;;;;;;;;oBAWD,uBAAK,CAAC,CAAC,EAAE;IACP,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;IACzG;;;;;;;;;;;;;;oBAcD,iCAAU,CAAC,CAAC,EAAE;IACZ,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;IAC5G;;;;;;;;;;;oBAWD,+BAAS,CAAC,CAAC,EAAE;IACX,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;IACjH;;;;;;;oBAOD,uBAAK,CAAC,CAAC,EAAE;IACP,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;GACzG;;;EAhckC;;uBAkcpC;"}