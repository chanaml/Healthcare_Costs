{"version":3,"file":"_drawTotal.js","sources":["../../src/_drawTotal.js"],"sourcesContent":["import {sum} from \"d3-array\";\n\nimport {elem} from \"d3plus-common\";\n\n/**\n    @function _drawTotal\n    @desc Draws a total title if this._total is defined.\n    @param {Array} [*data*] The currently filtered dataset.\n    @private\n*/\nexport default function(data = []) {\n\n  const total = typeof this._total === \"function\" ? sum(data.map(this._total))\n    : this._total === true && this._size ? sum(data.map(this._size)) : false;\n\n  const group = elem(\"g.d3plus-viz-total\", {\n    enter: {transform: `translate(${this._margin.left}, ${this._margin.top})`},\n    parent: this._select,\n    transition: this._transition,\n    update: {transform: `translate(${this._margin.left}, ${this._margin.top})`}\n  }).node();\n\n  const visible = typeof total === \"number\";\n\n  this._totalClass\n    .data(visible ? [{text: `Total: ${total}`}] : [])\n    .select(group)\n    .width(this._width - this._margin.left - this._margin.right)\n    .config(this._totalConfig)\n    .render();\n\n  this._margin.top += visible ? group.getBBox().height + this._padding : 0;\n\n}\n"],"names":["const"],"mappings":"AAAA,QAAQ,GAAG,OAAO,UAAU,CAAC;;AAE7B,QAAQ,IAAI,OAAO,eAAe,CAAC;;;;;;;;AAQnC,eAAe,SAAS,IAAS,EAAE;6BAAP,GAAG;AAAK;;EAElCA,GAAK,CAAC,KAAK,GAAG,OAAO,IAAI,CAAC,MAAM,KAAK,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;MACxE,IAAI,CAAC,MAAM,KAAK,IAAI,IAAI,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC;;EAE3EA,GAAK,CAAC,KAAK,GAAG,IAAI,CAAC,oBAAoB,EAAE;IACvC,KAAK,EAAE,CAAC,SAAS,EAAE,iBAAa,IAAI,CAAC,OAAO,CAAC,KAAI,WAAK,IAAI,CAAC,OAAO,CAAC,IAAG,OAAG,CAAC;IAC1E,MAAM,EAAE,IAAI,CAAC,OAAO;IACpB,UAAU,EAAE,IAAI,CAAC,WAAW;IAC5B,MAAM,EAAE,CAAC,SAAS,EAAE,iBAAa,IAAI,CAAC,OAAO,CAAC,KAAI,WAAK,IAAI,CAAC,OAAO,CAAC,IAAG,OAAG,CAAC;GAC5E,CAAC,CAAC,IAAI,EAAE,CAAC;;EAEVA,GAAK,CAAC,OAAO,GAAG,OAAO,KAAK,KAAK,QAAQ,CAAC;;EAE1C,IAAI,CAAC,WAAW;KACb,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,IAAI,EAAE,aAAU,KAAK,CAAE,CAAC,CAAC,GAAG,EAAE,CAAC;KAChD,MAAM,CAAC,KAAK,CAAC;KACb,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;KAC3D,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;KACzB,MAAM,EAAE,CAAC;;EAEZ,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;;CAE1E;"}