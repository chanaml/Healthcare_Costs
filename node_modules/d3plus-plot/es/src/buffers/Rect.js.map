{"version":3,"file":"Rect.js","sources":["../../../src/buffers/Rect.js"],"sourcesContent":["import {default as ordinalBuffer} from \"./ordinalBuffer\";\n\nexport default function(data, x, y, config) {\n\n  let xD = x.domain().slice(),\n      yD = y.domain().slice();\n\n  const xR = x.range(),\n        yR = y.range();\n\n  if (!x.invert) xD = ordinalBuffer(xD);\n  if (!y.invert) yD = ordinalBuffer(yD);\n\n  data.forEach(d => {\n\n    const h = config.height(d.data, d.i),\n          w = config.width(d.data, d.i);\n\n    if (x.invert && x(d.x) - xR[0] < w) {\n      const v = x.invert(x(d.x) - w);\n      if (v < xD[0]) xD[0] = v;\n    }\n    if (x.invert && xR[1] - x(d.x) < w) {\n      const v = x.invert(x(d.x) + w);\n      if (v > xD[1]) xD[1] = v;\n    }\n\n    if (y.invert && y(d.y) - yR[0] < h) {\n      const v = y.invert(y(d.y) - h);\n      if (v > yD[0]) yD[0] = v;\n    }\n    if (y.invert && yR[1] - y(d.y) < h) {\n      const v = y.invert(y(d.y) + h);\n      if (v < yD[1]) yD[1] = v;\n    }\n\n  });\n\n  x.domain(xD);\n  y.domain(yD);\n\n  return [x, y];\n\n}\n"],"names":["let","const","v"],"mappings":"AAAA,QAAQ,OAAO,IAAI,aAAa,OAAO,iBAAiB,CAAC;;AAEzD,eAAe,SAAS,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE;;EAE1CA,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE;MACvB,EAAE,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC;;EAE5BC,GAAK,CAAC,EAAE,GAAG,CAAC,CAAC,KAAK,EAAE;QACd,EAAE,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC;;EAErB,IAAI,CAAC,CAAC,CAAC,MAAM,IAAE,EAAE,GAAG,aAAa,CAAC,EAAE,CAAC,GAAC;EACtC,IAAI,CAAC,CAAC,CAAC,MAAM,IAAE,EAAE,GAAG,aAAa,CAAC,EAAE,CAAC,GAAC;;EAEtC,IAAI,CAAC,OAAO,WAAC,EAAC,CAAC,AAAG;;IAEhBA,GAAK,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;UAC9B,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEpC,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;MAClCA,GAAK,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;MAC/B,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,IAAE,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAC;KAC1B;IACD,IAAI,CAAC,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;MAClCA,GAAK,CAACC,GAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;MAC/B,IAAIA,GAAC,GAAG,EAAE,CAAC,CAAC,CAAC,IAAE,EAAE,CAAC,CAAC,CAAC,GAAGA,GAAC,GAAC;KAC1B;;IAED,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;MAClCD,GAAK,CAACC,GAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;MAC/B,IAAIA,GAAC,GAAG,EAAE,CAAC,CAAC,CAAC,IAAE,EAAE,CAAC,CAAC,CAAC,GAAGA,GAAC,GAAC;KAC1B;IACD,IAAI,CAAC,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;MAClCD,GAAK,CAACC,GAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;MAC/B,IAAIA,GAAC,GAAG,EAAE,CAAC,CAAC,CAAC,IAAE,EAAE,CAAC,CAAC,CAAC,GAAGA,GAAC,GAAC;KAC1B;;GAEF,CAAC,CAAC;;EAEH,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;EACb,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;;EAEb,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;CAEf;"}